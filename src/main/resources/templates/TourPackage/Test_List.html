<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Reservation List">
    <meta name="keywords" content="Reservation, Booking, Travel">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>예약 리스트 페이지</title>

    <!-- Css Styles -->
    <link rel="stylesheet" href="/css/mainpage/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/mainpage/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/css/mainpage/style.css" type="text/css">

    <style>
        .reservation-container {
            width: 60%;
            margin: 0 auto;
        }

        .reservation-table {
            width: 100%;
            border-collapse: collapse;
        }
        .reservation-table th, .reservation-table td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        .reservation-table th {
            background-color: #f2f2f2;
            text-align: left;
        }
        .reservation-table td {
            text-align: center;
        }
        .reservation-table a {
            color: #007bff;
            text-decoration: none;
        }
        .reservation-table a:hover {
            text-decoration: underline;
        }
        .product__pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        .product__pagination a, .product__pagination span {
            margin: 0 5px;
            color: #007bff;
            text-decoration: none;
        }
        .product__pagination a:hover, .product__pagination .active {
            text-decoration: underline;
        }
    </style>
</head>

<body>
<!-- Page Preloder -->
<div id="preloder">
    <div class="loader"></div>
</div>

<!-- Header Section Begin -->
<div th:replace="fragments/header :: header"></div>
<!-- Header Section End -->

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__text">
                    <h4>Reservation List</h4>
                    <div class="breadcrumb__links">
                        <a href="./index.html">Home</a>
                        <span>Reservation List</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<!-- Reservation Section Begin -->
<section class="reservation spad">
    <div class="container reservation-container">
        <table class="reservation-table">
            <thead>
            <tr>
                <th>예약번호</th>
                <th>예약자 이름</th>
                <th>휴대폰</th>
                <th>예약상품이름</th>
                <th>이메일</th>
                <th>구매시각</th>
                <th>예약상태</th>
                <th>상세보기</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="reservation : ${reservations}">
                <td th:text="${reservation.reservationNumber}"></td>
                <td th:text="${reservation.customerName}"></td>
                <td th:text="${reservation.phone}"></td>
                <td th:text="${reservation.productName}"></td>
                <td th:text="${reservation.email}"></td>
                <td th:text="${#dates.format(reservation.purchaseTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                <td th:text="${reservation.status}"></td>
                <td><a th:href="'/reservation/details/' + ${reservation.reservationNumber}">상세보기</a></td>
            </tr>
            </tbody>
        </table>

        <!-- Pagination -->
        <div class="row">
            <div class="col-lg-12">
                <div class="product__pagination">
                    <span th:if="${page <= 1}">&lt;&nbsp;</span>
                    <a th:if="${page > 1}" th:href="'/reservations?page=' + ${page - 1}">&lt;&nbsp;</a>

                    <th:block th:each="p : ${#numbers.sequence(1, totalPages)}">
                        <a th:if="${p == page}" th:text="${p}" class="active"></a>
                        <a th:if="${p != page}" th:href="'/reservations?page=' + ${p}" th:text="${p}"></a>
                    </th:block>

                    <span th:if="${page >= totalPages}">&nbsp;&gt;</span>
                    <a th:if="${page < totalPages}" th:href="'/reservations?page=' + ${page + 1}">&nbsp;&gt;</a>
                </div>
            </div>
        </div>
        <!-- Pagination -->

    </div>
</section>
<!-- Reservation Section End -->

<!-- Footer Section Begin -->
<div th:replace="fragments/footer :: footer"></div>
<!-- Footer Section End -->

<!-- Js Plugins -->
<script th:src="@{/js/mainpage/jquery-3.3.1.min.js}"></script>
<script th:src="@{/js/mainpage/bootstrap.min.js}"></script>
<script th:src="@{/js/mainpage/main.js}"></script>
</body>
</html>
