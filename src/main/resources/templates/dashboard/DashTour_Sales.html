<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"><head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Purple Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" th:href="@{../../assets/vendors/mdi/css/materialdesignicons.min.css}">
    <link rel="stylesheet" th:href="@{../../assets/vendors/css/vendor.bundle.base.css}">
    <link rel="stylesheet" th:href="@{../../assets/css/style.css}">
    <!-- End layout styles -->
    <link rel="shortcut icon" th:href="@{../../assets/images/favicon.ico}"/>
<style>

</style>

</head>
<body>
<!--<div class="container-scroller">-->
<!--    <th:block th:replace="~{HSF/_navbar :: navbar}"></th:block>-->
<!--    <div class="container-fluid page-body-wrapper">-->
<!--        <th:block th:replace="~{HSF/_sidebar :: sidebar}"></th:block>-->
<!--        <div class="main-panel">-->
            <div class="content-wrapper">
<!--                <div class="page-header">-->
<!--                    <h3 class="page-title"> Trip Register </h3>-->
<!--                    <nav aria-label="breadcrumb">-->
<!--                        <ol class="breadcrumb">-->
<!--                            <li class="breadcrumb-item"><a href="#">Forms</a></li>-->
<!--                            <li class="breadcrumb-item active" aria-current="page">Form elements</li>-->
<!--                        </ol>-->
<!--                    </nav>-->
<!--                </div>-->
<!--                <div class="row">-->
<!--                    <div class="col-lg-12 grid-margin stretch-card">-->
<!--                        <div class="card">-->
<!--                            <div class="card-body">-->
<!--                                <h4 class="card-title">날짜별 매출</h4>-->
<!--                                <canvas id="dailySalesChart" style="height:320px"></canvas>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
                <div class="row">
                    <div class="col-lg-6 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">월별 매출</h4>
                                <canvas id="monthlyIncomeSalesChart" style="height:250px"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">월별 예약수</h4>
                                <canvas id="monthlySalesChart" style="height:250px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
<!--                <div class="row">-->
<!--                    <div class="col-lg-6 grid-margin stretch-card">-->
<!--                        <div class="card">-->
<!--                            <div class="card-body">-->
<!--                                <h4 class="card-title">카테고리별 예약수</h4>-->
<!--                                <canvas id="categorySalesChart" style="height:250px"></canvas>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="col-lg-6 grid-margin stretch-card">-->
<!--                        <div class="card">-->
<!--                            <div class="card-body">-->
<!--                                <h4 class="card-title"></h4>-->
<!--                                <canvas id="SalesChart" style="height:250px"></canvas>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->

<!--            </div>-->
            <!-- content-wrapper ends -->
            <!-- partial:../../partials/_footer.html -->
<!--            <footer class="footer">-->
<!--                <div class="container-fluid d-flex justify-content-between">-->
<!--                    <span class="text-muted d-block text-center text-sm-start d-sm-inline-block">Copyright © bootstrapdash.com 2021</span>-->
<!--                    <span class="float-none float-sm-end mt-1 mt-sm-0 text-end"> Free <a-->
<!--                            href="https://www.bootstrapdash.com/bootstrap-admin-template/" target="_blank">Bootstrap admin template</a> from Bootstrapdash.com</span>-->
<!--                </div>-->
<!--            </footer>-->
            <!-- partial -->
        </div>
        <!-- main-panel ends -->
<!--    </div>-->
    <!-- page-body-wrapper ends -->
<!--</div>-->
<!-- container-scroller -->

<script>
    $(document).ready(function() {

        $.ajax({
            url: '/chart/dailyIncomeSales',
            method: 'GET',
            success: function(data) {
                var labels = Object.keys(data);
                var values = Object.values(data);

                var ctx = document.getElementById('dailySalesChart').getContext('2d');
                var dailySalesChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Daily Income',
                            data: values,
                            backgroundColor:  [
                                'rgba(255, 99, 132, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            },
            error: function(err) {
                console.error('Error fetching daily sales data', err);
            }
        });

        $.ajax({
            url: '/chart/categorySales',
            method: 'GET',
            success: function(data) {
                var labels = Object.keys(data);
                var values = Object.values(data);

                var ctx = document.getElementById('categorySalesChart').getContext('2d');
                var categorySalesChart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Category Sales',
                            data: values,
                            backgroundColor:  [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            },
            error: function(err) {
                console.error('Error fetching category sales data', err);
            }
        });

        $.ajax({
            url: '/chart/monthlySales',
            method: 'GET',
            success: function(data) {
                var labels = Object.keys(data);
                var values = Object.values(data);

                var ctx = document.getElementById('monthlySalesChart').getContext('2d');
                var monthlySalesChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Monthly Sales',
                            data: values,
                            backgroundColor:  [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)',
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            },
            error: function(err) {
                console.error('Error fetching monthly sales data', err);
            }
        });

        $.ajax({
            url: '/chart/monthlyIncomeSales',
            method: 'GET',
            success: function(data) {
                var labels = Object.keys(data);
                var values = Object.values(data);

                var ctx = document.getElementById('monthlyIncomeSalesChart').getContext('2d');
                var monthlyIncomeSalesChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Monthly Income',
                            data: values,
                            backgroundColor:  [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)',
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            },
            error: function(err) {
                console.error('Error fetching monthly sales data', err);
            }
        });

    });
</script>


<!-- plugins:js -->
<script th:src="@{../../assets/vendors/js/vendor.bundle.base.js}"></script>
<!-- endinject -->
<!-- Plugin js for this page -->
<!-- End plugin js for this page -->
<!-- inject:js -->
<script th:src="@{../../assets/js/off-canvas.js}"></script>
<script th:src="@{../../assets/js/hoverable-collapse.js}"></script>
<script th:src="@{../../assets/js/misc.js}"></script>
<!-- endinject -->
<!-- Custom js for this page -->
<script th:src="@{../../js/dashboard/chart.js}"></script>
<script th:src="@{../../assets/vendors/chart.js/Chart.min.js}"></script>

<!-- End custom js for this page -->

</body>
</html>